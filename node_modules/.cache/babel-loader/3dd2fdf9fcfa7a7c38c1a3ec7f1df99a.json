{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{Link}from'react-router-dom';import{userService}from'../Services/user.service';import{history}from'../../Routing/history';// import { connect } from 'react-redux';\n// import { userActions } from '../_actions';\nvar LoginPage=/*#__PURE__*/function(_React$Component){_inherits(LoginPage,_React$Component);function LoginPage(props){var _this;_classCallCheck(this,LoginPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginPage).call(this,props));// reset login status\nuserService.logout();_this.state={staffId:'',password:'',submitted:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginPage,[{key:\"handleChange\",value:function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;this.setState(_defineProperty({},name,value));}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();this.setState({submitted:true});var _this$state=this.state,staffId=_this$state.staffId,password=_this$state.password;if(staffId&&password){// console.log(staffId + password)\nuserService.login(staffId,password).then(function(user){console.log(user);// dispatch(success(user));\nhistory.push('/');},function(error){console.log(error);// dispatch(failure(error.toString()));\n// dispatch(alertActions.error(error.toString()));\n});// this.props.login(username, password);\n}}},{key:\"render\",value:function render(){// const { loggingIn } = this.props;\nvar _this$state2=this.state,staffId=_this$state2.staffId,password=_this$state2.password,submitted=_this$state2.submitted;return(// <div className=\"row\">\nReact.createElement(\"div\",{className:\"col-md-6 col-md-offset-3\",style:{color:'white',textAlign:'center'}},React.createElement(\"h2\",null,\"Login\"),React.createElement(\"form\",{name:\"form\",className:\"form-horizontal\",onSubmit:this.handleSubmit},React.createElement(\"div\",{className:'form-group'+(submitted&&!staffId?' has-error':'')},React.createElement(\"label\",{htmlFor:\"staffId\",className:\"control-label col-sm-3\"},\"Username\"),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"staffId\",value:staffId,onChange:this.handleChange}),submitted&&!staffId&&React.createElement(\"div\",{className:\"help-block\"},\"Username is required\"))),React.createElement(\"div\",{className:'form-group'+(submitted&&!password?' has-error':'')},React.createElement(\"label\",{htmlFor:\"password\",className:\"control-label col-sm-3\"},\"Password\"),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",value:password,onChange:this.handleChange}),submitted&&!password&&React.createElement(\"div\",{className:\"help-block\"},\"Password is required\"))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"button\",{className:\"btn btn-primary\"},\"Login\"),React.createElement(Link,{to:\"/Register\",className:\"btn btn-link\"},\"Register\"))))// </div>\n);}}]);return LoginPage;}(React.Component);export{LoginPage as Login};","map":{"version":3,"sources":["C:/Users/Aditya/Desktop/Krupa/VodafonePhotoGallery/src/Components/Login/Login.js"],"names":["React","Link","userService","history","LoginPage","props","logout","state","staffId","password","submitted","handleChange","bind","handleSubmit","e","target","name","value","setState","preventDefault","login","then","user","console","log","push","error","color","textAlign","Component","Login"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { userService } from '../Services/user.service';\r\nimport { history } from '../../Routing/history';\r\n// import { connect } from 'react-redux';\r\n\r\n// import { userActions } from '../_actions';\r\n\r\nclass LoginPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // reset login status\r\n        userService.logout();\r\n\r\n        this.state = {\r\n            staffId: '',\r\n            password: '',\r\n            submitted: false\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        this.setState({ submitted: true });\r\n        const { staffId, password } = this.state;\r\n        if (staffId && password) {\r\n            // console.log(staffId + password)\r\n            userService.login(staffId,password)\r\n            .then(\r\n                user => { \r\n                    console.log(user);\r\n                    // dispatch(success(user));\r\n                    history.push('/');\r\n                },\r\n                error => {\r\n                    console.log(error);\r\n                    // dispatch(failure(error.toString()));\r\n                    // dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n            // this.props.login(username, password);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        // const { loggingIn } = this.props;\r\n        const { staffId, password, submitted } = this.state;\r\n        return (\r\n        // <div className=\"row\">\r\n            <div className=\"col-md-6 col-md-offset-3\" style={{color:'white', textAlign:'center'}} >\r\n                <h2>Login</h2>\r\n                <form name=\"form\" className=\"form-horizontal\" onSubmit={this.handleSubmit}>\r\n                    <div className={'form-group' + (submitted && !staffId ? ' has-error' : '')}>\r\n                        <label htmlFor=\"staffId\" className=\"control-label col-sm-3\" >Username</label>\r\n                        <div className=\"col-md-9\">\r\n                            <input type=\"text\" className=\"form-control\" name=\"staffId\" value={staffId} onChange={this.handleChange} />\r\n                            {submitted && !staffId &&\r\n                                <div className=\"help-block\">Username is required</div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\r\n                        <label htmlFor=\"password\" className=\"control-label col-sm-3\" >Password</label>\r\n                        <div className=\"col-md-9\">\r\n                        <input type=\"password\" className=\"form-control\" name=\"password\" value={password} onChange={this.handleChange} />\r\n                        {submitted && !password &&\r\n                            <div className=\"help-block\">Password is required</div>\r\n                        }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <button className=\"btn btn-primary\">Login</button>\r\n                        {/* {loggingIn &&\r\n                            <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n                        } */}\r\n                        <Link to=\"/Register\" className=\"btn btn-link\">Register</Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            // </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport { LoginPage as Login };"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Fragment}from'react';import{connect}from'react-redux';import{photosList}from'../../Redux/Actions/photosList';import{albumsList}from'../../Redux/Actions/albumsList';import Loader from'../Common/Loader';import Pagination from'../Common//Pagination';import PhotoCard from'./PhotoCard';import{history}from'../../Routing/history';var ListPhoto=/*#__PURE__*/function(_React$Component){_inherits(ListPhoto,_React$Component);function ListPhoto(props){var _this;_classCallCheck(this,ListPhoto);_this=_possibleConstructorReturn(this,_getPrototypeOf(ListPhoto).call(this,props));_this.onPageChanged=function(data){var currentPage=data.currentPage,totalPages=data.totalPages,pageLimit=data.pageLimit;var offset=(currentPage-1)*pageLimit;var currentPhotos=_this.props.photos.slice(offset,offset+pageLimit);_this.setState({currentPage:currentPage,currentPhotos:currentPhotos,totalPages:totalPages});};_this.state={loader:true,currentPhotos:[],currentPage:null,totalPages:null};return _this;}_createClass(ListPhoto,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var user=JSON.parse(localStorage.getItem('user'));// console.log(user);\nif(!user){history.push('/Login');}this.props.photosList().then(function(){_this2.setState({loader:false});}).catch(function(err){console.log(err);_this2.setState({loader:false});});this.props.albumsList().then(function(){_this2.setState({loader:false});}).catch(function(err){console.log(err);_this2.setState({loader:false});});}},{key:\"render\",value:function render(){var currentPhotos=this.state.currentPhotos;var totalPhotos=this.props.photos;return React.createElement(Fragment,null,totalPhotos!==undefined&&totalPhotos.length>0?React.createElement(Fragment,null,React.createElement(Pagination,{totalRecords:totalPhotos.length,pageLimit:21,pageNeighbours:1,onPageChanged:this.onPageChanged}),currentPhotos.map(function(photos){return React.createElement(PhotoCard,{key:photos.id,photos:photos});})):React.createElement(Loader,null));}}]);return ListPhoto;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{photos:state.photos,albums:state.albums};};export default connect(mapStateToProps,{photosList:photosList,albumsList:albumsList})(ListPhoto);","map":{"version":3,"sources":["C:/Users/Aditya/Desktop/Krupa/VodafonePhotoGallery/src/Components/Photos/ListPhoto.js"],"names":["React","Fragment","connect","photosList","albumsList","Loader","Pagination","PhotoCard","history","ListPhoto","props","onPageChanged","data","currentPage","totalPages","pageLimit","offset","currentPhotos","photos","slice","setState","state","loader","user","JSON","parse","localStorage","getItem","push","then","catch","err","console","log","totalPhotos","undefined","length","map","id","Component","mapStateToProps","albums"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { photosList } from '../../Redux/Actions/photosList'\r\nimport { albumsList } from '../../Redux/Actions/albumsList'\r\nimport Loader from '../Common/Loader'\r\nimport Pagination from '../Common//Pagination'\r\nimport PhotoCard from './PhotoCard'\r\nimport { history } from '../../Routing/history';\r\n\r\nclass ListPhoto extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            loader: true,\r\n            currentPhotos: [],\r\n            currentPage: null,\r\n            totalPages: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let user = JSON.parse(localStorage.getItem('user'));\r\n        // console.log(user);\r\n        if(!user){\r\n            history.push('/Login')\r\n        } \r\n        this.props.photosList().then(() => {\r\n            this.setState({loader: false})\r\n        }).catch((err) => {\r\n            console.log(err)\r\n            this.setState({loader: false})\r\n        });\r\n        \r\n        this.props.albumsList().then(() => {\r\n            this.setState({loader: false})\r\n        }).catch((err) => {\r\n            console.log(err)\r\n            this.setState({loader: false})\r\n        });\r\n    }\r\n\r\n    onPageChanged = data => {\r\n        const { currentPage, totalPages, pageLimit } = data;\r\n    \r\n        const offset = (currentPage - 1) * pageLimit;\r\n        const currentPhotos = this.props.photos.slice(offset, offset + pageLimit);\r\n    \r\n        this.setState({ currentPage, currentPhotos, totalPages });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            currentPhotos\r\n          } = this.state;\r\n        var totalPhotos = this.props.photos;\r\n\r\n        return (\r\n            <Fragment>\r\n                {totalPhotos !== undefined && totalPhotos.length > 0 ?\r\n                    <Fragment>\r\n                        <Pagination\r\n                            totalRecords={totalPhotos.length}\r\n                            pageLimit={21}\r\n                            pageNeighbours={1}\r\n                            onPageChanged={this.onPageChanged}\r\n                        />\r\n                        {currentPhotos.map(photos => (\r\n                            <PhotoCard key={photos.id} photos={photos} />\r\n                        ))}\r\n                    </Fragment>\r\n                       :\r\n                    <Loader /> \r\n                }\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        photos: state.photos,\r\n        albums: state.albums\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {photosList,albumsList})(ListPhoto)"]},"metadata":{},"sourceType":"module"}
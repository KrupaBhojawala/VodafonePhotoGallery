{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Aditya\\\\Desktop\\\\Krupa\\\\VodafonePhotoGallery\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Fragment}from'react';import{connect}from'react-redux';import{albumsList}from'../../Redux/Actions/albumsList';import Album from'./Album';import Loader from'../Common/Loader';import Pagination from'../Common/Pagination';import{history}from'../../Routing/history';var ListAlbum=/*#__PURE__*/function(_React$Component){_inherits(ListAlbum,_React$Component);function ListAlbum(props){var _this;_classCallCheck(this,ListAlbum);_this=_possibleConstructorReturn(this,_getPrototypeOf(ListAlbum).call(this,props));_this.onPageChanged=function(data){var currentPage=data.currentPage,totalPages=data.totalPages,pageLimit=data.pageLimit;var offset=(currentPage-1)*pageLimit;var currentAlbums=_this.props.albums.slice(offset,offset+pageLimit);_this.setState({currentPage:currentPage,currentAlbums:currentAlbums,totalPages:totalPages});};_this.state={loader:true,currentAlbums:[],currentPage:null,totalPages:null};return _this;}_createClass(ListAlbum,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var user=JSON.parse(localStorage.getItem('user'));// console.log(user);\nif(!user){history.push('/Login');}this.props.albumsList().then(function(){_this2.setState({loader:false});}).catch(function(err){console.log(err);_this2.setState({loader:false});});}},{key:\"render\",value:function render(){var currentAlbums=this.state.currentAlbums;var totalAlbums=this.props.albums;return React.createElement(Fragment,null,totalAlbums!==undefined&&totalAlbums.length>0?React.createElement(Fragment,null,React.createElement(Pagination,{totalRecords:totalAlbums.length,pageLimit:23,pageNeighbours:1,onPageChanged:this.onPageChanged}),currentAlbums.map(function(albums){return React.createElement(Album,{key:albums.id,albums:albums});})):React.createElement(Loader,null));}}]);return ListAlbum;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{albums:state.albums};};export default connect(mapStateToProps,{albumsList:albumsList})(ListAlbum);","map":{"version":3,"sources":["C:/Users/Aditya/Desktop/Krupa/VodafonePhotoGallery/src/Components/Albums/ListAlbum.js"],"names":["React","Fragment","connect","albumsList","Album","Loader","Pagination","history","ListAlbum","props","onPageChanged","data","currentPage","totalPages","pageLimit","offset","currentAlbums","albums","slice","setState","state","loader","user","JSON","parse","localStorage","getItem","push","then","catch","err","console","log","totalAlbums","undefined","length","map","id","Component","mapStateToProps"],"mappings":"+sBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,gCAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,OAASC,OAAT,KAAwB,uBAAxB,C,GAGMC,CAAAA,S,+EACF,mBAAYC,KAAZ,CAAmB,2CACf,2EAAMA,KAAN,GADe,MAyBnBC,aAzBmB,CAyBH,SAAAC,IAAI,CAAI,IACZC,CAAAA,WADY,CAC2BD,IAD3B,CACZC,WADY,CACCC,UADD,CAC2BF,IAD3B,CACCE,UADD,CACaC,SADb,CAC2BH,IAD3B,CACaG,SADb,CAGpB,GAAMC,CAAAA,MAAM,CAAG,CAACH,WAAW,CAAG,CAAf,EAAoBE,SAAnC,CACA,GAAME,CAAAA,aAAa,CAAG,MAAKP,KAAL,CAAWQ,MAAX,CAAkBC,KAAlB,CAAwBH,MAAxB,CAAgCA,MAAM,CAAGD,SAAzC,CAAtB,CAEA,MAAKK,QAAL,CAAc,CAAEP,WAAW,CAAXA,WAAF,CAAeI,aAAa,CAAbA,aAAf,CAA8BH,UAAU,CAAVA,UAA9B,CAAd,EACH,CAhCkB,CAGf,MAAKO,KAAL,CAAa,CACTC,MAAM,CAAE,IADC,CAETL,aAAa,CAAE,EAFN,CAGTJ,WAAW,CAAE,IAHJ,CAITC,UAAU,CAAE,IAJH,CAAb,CAHe,aASlB,C,mFAEmB,iBAChB,GAAIS,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX,CACA;AACA,GAAG,CAACJ,IAAJ,CAAS,CACLf,OAAO,CAACoB,IAAR,CAAa,QAAb,EACH,CACD,KAAKlB,KAAL,CAAWN,UAAX,GAAwByB,IAAxB,CAA6B,UAAM,CAC/B,MAAI,CAACT,QAAL,CAAc,CAACE,MAAM,CAAE,KAAT,CAAd,EACH,CAFD,EAEGQ,KAFH,CAES,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,MAAI,CAACX,QAAL,CAAc,CAACE,MAAM,CAAE,KAAT,CAAd,EACH,CALD,EAMH,C,uCAWQ,IAEDL,CAAAA,aAFC,CAGC,KAAKI,KAHN,CAEDJ,aAFC,CAIL,GAAIiB,CAAAA,WAAW,CAAG,KAAKxB,KAAL,CAAWQ,MAA7B,CAEA,MACI,qBAAC,QAAD,MACKgB,WAAW,GAAKC,SAAhB,EAA6BD,WAAW,CAACE,MAAZ,CAAqB,CAAlD,CACG,oBAAC,QAAD,MACI,oBAAC,UAAD,EACY,YAAY,CAAEF,WAAW,CAACE,MADtC,CAEY,SAAS,CAAE,EAFvB,CAGY,cAAc,CAAE,CAH5B,CAIY,aAAa,CAAE,KAAKzB,aAJhC,EADJ,CAOKM,aAAa,CAACoB,GAAd,CAAkB,SAAAnB,MAAM,QACrB,qBAAC,KAAD,EAAO,GAAG,CAAEA,MAAM,CAACoB,EAAnB,CAAuB,MAAM,CAAEpB,MAA/B,EADqB,EAAxB,CAPL,CADH,CAaG,oBAAC,MAAD,MAdR,CADJ,CAmBH,C,uBA5DmBjB,KAAK,CAACsC,S,EA+D9B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAnB,KAAK,CAAI,CAC7B,MAAO,CACHH,MAAM,CAAEG,KAAK,CAACH,MADX,CAAP,CAGH,CAJD,CAOA,cAAef,CAAAA,OAAO,CAACqC,eAAD,CAAkB,CAACpC,UAAU,CAAVA,UAAD,CAAlB,CAAP,CAAuCK,SAAvC,CAAf","sourcesContent":["import React, { Fragment } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { albumsList } from '../../Redux/Actions/albumsList'\r\nimport Album from './Album'\r\nimport Loader from '../Common/Loader'\r\nimport Pagination from '../Common/Pagination'\r\nimport { history } from '../../Routing/history';\r\n\r\n\r\nclass ListAlbum extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            loader: true,\r\n            currentAlbums: [],\r\n            currentPage: null,\r\n            totalPages: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() { \r\n        let user = JSON.parse(localStorage.getItem('user'));\r\n        // console.log(user);\r\n        if(!user){\r\n            history.push('/Login')\r\n        }        \r\n        this.props.albumsList().then(() => {\r\n            this.setState({loader: false})\r\n        }).catch((err) => {\r\n            console.log(err)\r\n            this.setState({loader: false})\r\n        });\r\n    }\r\n\r\n    onPageChanged = data => {\r\n        const { currentPage, totalPages, pageLimit } = data;\r\n    \r\n        const offset = (currentPage - 1) * pageLimit;\r\n        const currentAlbums = this.props.albums.slice(offset, offset + pageLimit);\r\n    \r\n        this.setState({ currentPage, currentAlbums, totalPages });\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            currentAlbums\r\n          } = this.state;\r\n        var totalAlbums = this.props.albums;\r\n\r\n        return (\r\n            <Fragment>\r\n                {totalAlbums !== undefined && totalAlbums.length > 0 ?\r\n                    <Fragment>\r\n                        <Pagination\r\n                                    totalRecords={totalAlbums.length}\r\n                                    pageLimit={23}\r\n                                    pageNeighbours={1}\r\n                                    onPageChanged={this.onPageChanged}\r\n                                />\r\n                        {currentAlbums.map(albums => (\r\n                            <Album key={albums.id} albums={albums} />\r\n                        ))}\r\n                    </Fragment>\r\n                       :\r\n                    <Loader /> \r\n                }\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        albums: state.albums\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {albumsList})(ListAlbum)"]},"metadata":{},"sourceType":"module"}